(function(){
    if(typeof(window.EchoedSettings) ==='undefined') EchoedSettings = {};

    {{>partial_requirejs}}

    EchoedSettings.urls = {};
    {{#urls}}
    EchoedSettings.urls.api = "{{api}}";
    EchoedSettings.urls.cdn = "{{cdn}}";
    EchoedSettings.urls.js = "{{js}}";
    EchoedSettings.urls.css = "{{css}}";
    EchoedSettings.urls.images = "{{images}}";
    EchoedSettings.urls.views = "{{views}}";
    EchoedSettings.urls.site = "{{site}}";
    {{/urls}}

    {{#side}}
    EchoedSettings.openerSide = '{{.}}';
    {{/side}}

    {{#customization}}
        {{#useGallery}}
            EchoedSettings.useGallery = true;
        {{/useGallery}}
        {{^useGallery}}
            EchoedSettings.useGallery = false;
        {{/useGallery}}
        {{#hideOpener}}
            EchoedSettings.hideOpener = true;
        {{/hideOpener}}
        {{#loaderType}}
            EchoedSettings.loaderType = "{{version}}{{.}}";
        {{/loaderType}}
        {{^loaderType}}
            EchoedSettings.loaderType = "loader.js";
        {{/loaderType}}
    {{/customization}}

    var es = document.createElement('script'); es.type = 'text/javascript'; es.async = true;
    {{#DEV}}
    es.src = "{{https.js}}/libs/require/require-2.1.1.js";
    es.setAttribute('data-main',"{{https.js}}/" + EchoedSettings.loaderType + "?pid={{partnerId}}");
    {{/DEV}}
    {{^DEV}}
    es.src = "{{https.js}}/" + EchoedSettings.loaderType + "?pid={{partnerId}}"
    {{/DEV}}
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(es, s);
})();