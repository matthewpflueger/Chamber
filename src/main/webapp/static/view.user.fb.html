<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="shortcut icon" href="http://v1-cdn.echoed.com/favicon.png" type="image/png">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>My Exhibit</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://v1-cdn.echoed.com/jquery.isotope.min.js"></script>
    <script type="text/javascript" src="http://v1-cdn.echoed.com/jquery.imagesloaded.js"></script>
    <script type='text/javascript' src="http://v1-cdn.echoed.com/json2.js"></script>
    <script type='text/javascript' src="http://v1-cdn.echoed.com/underscore-min.js"></script>
    <script type='text/javascript' src="http://v1-cdn.echoed.com/backbone.js"></script>
    <script type='text/javascript' src="http://v1-cdn.echoed.com/echoed.js"></script>
    <script type="text/template" id="templates-components-product">
        <div class="item_hover" width="240px" style="display:none;">
            <div class="item_hover_wrap">
            </div>
        </div>
        <img class="exhibit_image" width="230px" src=""/>
    </script>

    <script type="text/templates" id="templates-pages-exhibit">
        <div id="content-selector-container">
            <div id="content-title"></div>
            <div id="content-selector"></div>
        </div>
        <div id="exhibit">
        </div>
    </script>

    <script type="text/javascript">
        var error = new Array();//{{#errors}}
        errors.push("{{this}}");
        /*{{/errors}} // */
    </script>

    <script></script>

    <link rel="stylesheet" type="text/css" href="http://v1-cdn.echoed.com/echoed.css"/>
</head>
<body>
<div id="container" class="facebook">
    <div id="header" class="facebook">
        <div id="logo">
            <img height="40px" src="http://v1-cdn.echoed.com/logo.png">
        </div>
        <div id="user" class="clearfix">
        </div>
        <div id="header-nav" class="clearfix">
            <ul>
                <li id="explore_nav">
                    <a href="#explore">
                        Explore
                    </a>
                </li>
                <li id="exhibit_nav">
                    <a href="#exhibit">
                        My Exhibit
                    </a>
                </li>
                <li id="friends_nav">
                    <a href="#friends">
                        My Friends
                    </a>
                </li>
            </ul>
        </div>
        <div id="networks">
            {{#echoedUser}}
            {{#facebookUserId}}
            <img id="facebookAccount" src="http://v1-cdn.echoed.com/btn_sq_clr_fb.png" alt="facebook"/>
            {{/facebookUserId}}
            {{^facebookUserId}}
            <a id="addFacebookLink" href="https://www.facebook.com/dialog/oauth?client_id=177687295582534&redirect_uri=http://v1-api.echoed.com/facebook/add?redirect=closet&scope=email,publish_stream,offline_access">
                <img src="http://v1-cdn.echoed.com/btn_sq_grey_fb.png" alt="facebook"/>
            </a>
            {{/facebookUserId}}
            {{#twitterUserId}}
            <img id="twitterAccount" src="http://v1-cdn.echoed.com/btn_sq_clr_tw.png" alt="twitter"/>
            {{/twitterUserId}}
            {{^twitterUserId}}
            <a id="addTwitterLink" href="http://v1-api.echoed.com/twitter?redirect=closet"/>
            <img src="http://v1-cdn.echoed.com/btn_sq_grey_tw.png" alt="twitter"/>
            </a>
            {{/twitterUserId}}
            {{/echoedUser}}
        </div>
    </div>
    <div id="content">
    </div>
</div>
</body>
</html>
<script>
    $.Isotope.prototype._getCenteredMasonryColumns = function() {
        this.width = this.element.width();

        var parentWidth = this.element.parent().width();

        // i.e. options.masonry && options.masonry.columnWidth
        var colW = this.options.masonry && this.options.masonry.columnWidth ||
            // or use the size of the first item
                this.$filteredAtoms.outerWidth(true) ||
            // if there's no items, use size of container
                parentWidth;

        var cols = Math.floor( parentWidth / colW );
        cols = Math.max( cols, 1 );

        // i.e. this.masonry.cols = ....
        this.masonry.cols = cols;
        // i.e. this.masonry.columnWidth = ...
        this.masonry.columnWidth = colW;
    };

    $.Isotope.prototype._masonryReset = function() {
        // layout-specific props
        this.masonry = {};
        // FIXME shouldn't have to call this again
        this._getCenteredMasonryColumns();
        var i = this.masonry.cols;
        this.masonry.colYs = [];
        while (i--) {
            this.masonry.colYs.push( 0 );
        }
    };

    $.Isotope.prototype._masonryResizeChanged = function() {
        var prevColCount = this.masonry.cols;
        // get updated colCount
        this._getCenteredMasonryColumns();
        return ( this.masonry.cols !== prevColCount );
    };

    $.Isotope.prototype._masonryGetContainerSize = function() {
        var unusedCols = 0,
                i = this.masonry.cols;
        // count unused columns
        while ( --i ) {
            if ( this.masonry.colYs[i] !== 0 ) {
                break;
            }
            unusedCols++;
        }

        return {
            height : Math.max.apply( Math, this.masonry.colYs ),
            // fit container to columns that have been used;
            width : (this.masonry.cols - unusedCols) * this.masonry.columnWidth
        };
    };

</script>
<script type="text/javascript">
    $(document).ready(function() {
        Echoed.init();
    });
</script>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28093745-1']);
    _gaq.push(['_setDomainName', 'echoed.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
