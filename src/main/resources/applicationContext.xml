<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:akka="http://akka.io/schema/akka"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
	        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
            http://akka.io/schema/akka
            http://akka.io/akka-1.3.1.xsd"
       default-init-method="init"
       default-destroy-method="destroy">


    <import resource="classpath:chamber-properties.xml" />


    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="cacheSeconds" value="-1" /> <!-- cache forever -->
        <property name="basenames">
            <list>
                <value>${http.urls.messages}/messages</value>
                <value>${http.urls.messages}/errors</value>
            </list>
        </property>
    </bean>

    <bean id="validator" class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean"/>


    <import resource="classpath:database.xml" />


    <bean id="cacheManager" class="com.echoed.cache.LocalCacheManager">
        <property name="expireInMinutes" value="${cache.expireInMinutes}" />
    </bean>

    <bean id="facebookAccess" class="com.echoed.chamber.services.facebook.FacebookAccessActorClient">
        <property name="actorRef" ref="facebookAccessActor" />
    </bean>

    <bean id="facebookServiceCreator" class="com.echoed.chamber.services.facebook.FacebookServiceCreatorActorClient">
        <property name="facebookServiceCreatorActor" ref="facebookServiceCreatorActor" />
    </bean>

    <bean id="facebookServiceLocator" class="com.echoed.chamber.services.facebook.FacebookServiceLocatorActorClient">
        <property name="facebookServiceLocatorActor" ref="facebookServiceLocatorActor" />
    </bean>

    <bean id="echoService" class="com.echoed.chamber.services.echo.EchoServiceActorClient">
        <property name="echoServiceActor" ref="echoServiceActor" />
    </bean>

    <bean id="twitterAccess" class="com.echoed.chamber.services.twitter.TwitterAccessActorClient">
        <property name="twitterAccessActor" ref="twitterAccessActor" />
    </bean>

    <bean id="twitterServiceCreator" class="com.echoed.chamber.services.twitter.TwitterServiceCreatorActorClient">
        <property name="twitterServiceCreatorActor" ref="twitterServiceCreatorActor" />
    </bean>

    <bean id="twitterServiceLocator" class="com.echoed.chamber.services.twitter.TwitterServiceLocatorActorClient">
        <property name="twitterServiceLocatorActor" ref="twitterServiceLocatorActor" />
    </bean>

    <bean id="echoedUserServiceCreator" class="com.echoed.chamber.services.echoeduser.EchoedUserServiceCreatorActorClient">
        <property name="echoedUserServiceCreatorActor" ref="echoedUserServiceCreatorActor" />
    </bean>

    <bean id="echoedUserServiceLocator" class="com.echoed.chamber.services.echoeduser.EchoedUserServiceLocatorActorClient">
        <property name="echoedUserServiceLocatorActor" ref="echoedUserServiceLocatorActor" />
    </bean>

    <bean id="partnerUserServiceCreator" class="com.echoed.chamber.services.partneruser.PartnerUserServiceCreatorActorClient">
        <property name="partnerUserServiceCreatorActor" ref="partnerUserServiceCreatorActor" />
    </bean>

    <bean id="partnerUserServiceLocator" class="com.echoed.chamber.services.partneruser.PartnerUserServiceLocatorActorClient">
        <property name="partnerUserServiceLocatorActor" ref="partnerUserServiceLocatorActor" />
    </bean>

    <bean id="adminUserServiceCreator" class="com.echoed.chamber.services.adminuser.AdminUserServiceCreatorActorClient">
        <property name="adminUserServiceCreatorActor" ref="adminUserServiceCreatorActor" />
    </bean>

    <bean id="adminUserServiceLocator" class="com.echoed.chamber.services.adminuser.AdminUserServiceLocatorActorClient">
        <property name="adminUserServiceLocatorActor"  ref="adminUserServiceLocatorActor" />
    </bean>


    <akka:untyped-actor
            id="facebookAccessActor"
            implementation="com.echoed.chamber.services.facebook.FacebookAccessActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="properties" ref="facebookAccessProperties" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="facebookServiceCreatorActor"
            implementation="com.echoed.chamber.services.facebook.FacebookServiceCreatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="facebookAccess" ref="facebookAccess" />
        <!--suppress SpringModelInspection -->
        <property name="facebookUserDao" ref="facebookUserDao" />
        <!--suppress SpringModelInspection -->
        <property name="facebookPostDao" ref="facebookPostDao" />
        <!--suppress SpringModelInspection -->
        <property name="facebookFriendDao" ref="facebookFriendDao" />
        <!--suppress SpringModelInspection -->
        <property name="urlsProperties" ref="urlsProperties" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="facebookServiceLocatorActor"
            implementation="com.echoed.chamber.services.facebook.FacebookServiceLocatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="facebookServiceCreator" ref="facebookServiceCreator" />
        <!--suppress SpringModelInspection -->
        <property name="cacheManager" ref="cacheManager" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="echoServiceActor"
            implementation="com.echoed.chamber.services.echo.EchoServiceActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="echoDao" ref="echoDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoMetricsDao" ref="echoMetricsDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoPossibilityDao" ref="echoPossibilityDao" />
        <!--suppress SpringModelInspection -->
        <property name="retailerDao" ref="retailerDao" />
        <!--suppress SpringModelInspection -->
        <property name="retailerSettingsDao" ref="retailerSettingsDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoClickDao" ref="echoClickDao" />
    </akka:untyped-actor>

    <akka:untyped-actor
           id="twitterAccessActor"
           implementation="com.echoed.chamber.services.twitter.TwitterAccessActor"
           autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="properties" ref="twitterAccessProperties"/>
    </akka:untyped-actor>

    <akka:untyped-actor
           id="twitterServiceCreatorActor"
           implementation="com.echoed.chamber.services.twitter.TwitterServiceCreatorActor"
           autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="twitterAccess" ref="twitterAccess" />
        <!--suppress SpringModelInspection -->
        <property name="twitterUserDao" ref="twitterUserDao" />
        <!--suppress SpringModelInspection -->
        <property name="twitterStatusDao" ref="twitterStatusDao" />
        <!--suppress SpringModelInspection -->
        <property name="urlsProperties" ref="urlsProperties" />
    </akka:untyped-actor>

    <akka:untyped-actor
           id="twitterServiceLocatorActor"
           implementation="com.echoed.chamber.services.twitter.TwitterServiceLocatorActor"
           autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="twitterServiceCreator" ref="twitterServiceCreator"/>
        <!--suppress SpringModelInspection -->
        <property name="cacheManager" ref="cacheManager" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="echoedUserServiceCreatorActor"
            implementation="com.echoed.chamber.services.echoeduser.EchoedUserServiceCreatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="twitterServiceLocator" ref="twitterServiceLocator"/>
        <!--suppress SpringModelInspection -->
        <property name="facebookServiceLocator" ref="facebookServiceLocator"/>
        <!--suppress SpringModelInspection -->
        <property name="echoedUserDao" ref="echoedUserDao" />
        <!--suppress SpringModelInspection -->
        <property name="closetDao" ref="closetDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoedFriendDao" ref="echoedFriendDao" />
        <!--suppress SpringModelInspection -->
        <property name="feedDao" ref="feedDao"/>
        <!--suppress SpringModelInspection -->
        <property name="echoDao" ref="echoDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoMetricsDao" ref="echoMetricsDao" />
        <!--suppress SpringModelInspection -->
        <property name="echoPossibilityDao" ref="echoPossibilityDao" />
        <!--suppress SpringModelInspection -->
        <property name="retailerSettingsDao" ref="retailerSettingsDao" />
    </akka:untyped-actor>


    <akka:untyped-actor
            id="echoedUserServiceLocatorActor"
            implementation="com.echoed.chamber.services.echoeduser.EchoedUserServiceLocatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="echoedUserServiceCreator" ref="echoedUserServiceCreator" />
        <!--suppress SpringModelInspection -->
        <property name="cacheManager" ref="cacheManager" />
    </akka:untyped-actor>


    <akka:untyped-actor
            id="partnerUserServiceCreatorActor"
            implementation="com.echoed.chamber.services.partneruser.PartnerUserServiceCreatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="partnerUserDao" ref="partnerUserDao" />
        <!--suppress SpringModelInspection -->
        <property name="retailerViewDao" ref="retailerViewDao"/>
    </akka:untyped-actor>


    <akka:untyped-actor
            id="partnerUserServiceLocatorActor"
            implementation="com.echoed.chamber.services.partneruser.PartnerUserServiceLocatorActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="partnerUserServiceCreator" ref="partnerUserServiceCreator" />
        <!--suppress SpringModelInspection -->
        <property name="cacheManager" ref="cacheManager" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="adminUserServiceCreatorActor"
            implementation="com.echoed.chamber.services.adminuser.AdminUserServiceCreatorActor"
            autostart="true">
            <!--suppress SpringModelInspection -->
            <property name="adminUserDao" ref="adminUserDao" />
            <!--suppress SpringModelInspection -->
            <property name="adminViewDao" ref="adminViewDao" />
    </akka:untyped-actor>

    <akka:untyped-actor
            id="adminUserServiceLocatorActor"
            implementation="com.echoed.chamber.services.adminuser.AdminUserServiceLocatorActor"
            autostart="true">
            <!--suppress SpringModelInspection -->
            <property name="adminUserServiceCreator" ref="adminUserServiceCreator" />
            <!--suppress SpringModelInspection -->
            <property name="cacheManager" ref="cacheManager" />
    </akka:untyped-actor>


    <akka:untyped-actor
            id="facebookPostCrawlerActor"
            implementation="com.echoed.chamber.services.facebook.FacebookPostCrawlerActor"
            autostart="true">
        <!--suppress SpringModelInspection -->
        <property name="facebookPostDao" ref="facebookPostDao" />
        <!--suppress SpringModelInspection -->
        <property name="facebookLikeDao" ref="facebookLikeDao" />
        <!--suppress SpringModelInspection -->
        <property name="facebookCommentDao" ref="facebookCommentDao" />
        <!--suppress SpringModelInspection -->
        <property name="facebookAccess" ref="facebookAccess" />
    </akka:untyped-actor>
</beans>
