<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.echoed.chamber.dao.RetailerConfirmationDao">

    <select id="selectRetailerConfirmationCount" resultType="long">
        select count(*) from RetailerConfirmation
    </select>

    <insert id="insertRetailerConfirmation" parameterType="com.echoed.chamber.domain.RetailerConfirmation">
    	<selectKey keyProperty="id" resultType="string" order="BEFORE">select uuid()</selectKey>
    	insert into RetailerConfirmation(
    			id,
    			retailerId,
    			productId,
    			shownOn,
    			step)
    	values (
    			#{id},
    			#{retailerId},
    			#{productId},
    			#{shownOn},
    			#{step})
    </insert>
</mapper>